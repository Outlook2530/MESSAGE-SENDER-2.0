<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MASTER BLACK DEVIL PANEL</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</head>
<body>
<div class="container-wrapper">
  <header class="header mt-3" style="text-align:center;">
    <h1>FACEBOOK MSG SENDER RDP WEB</h1>
    <div>
      <strong style="color:var(--neon-pink); text-shadow:0 0 8px var(--neon-pink);">BLACK DEVIL</strong>
      <strong style="color:var(--neon-blue); text-shadow:0 0 8px var(--neon-blue);"> OFFICIAL</strong>
    </div>
    <div class="mt-2">
      <span style="color:var(--neon-yellow); text-shadow:0 0 6px var(--neon-yellow);">MASTER BLACK DEVIL</span>
    </div>
  </header>

  <div class="container mt-3">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alerts">
          {% for m in messages %}
            <div class="alert alert-info" role="alert">{{ m }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form action="{{ url_for('send_message') }}" method="post" enctype="multipart/form-data">
      <div class="mb-3">
        <label for="tokenType" class="form-label">Select Token Type:</label>
        <select class="form-control" id="tokenType" name="tokenType" required>
          <option value="single" {% if form_defaults.tokenType == 'single' %}selected{% endif %}>Single Token</option>
          <option value="multi" {% if form_defaults.tokenType == 'multi' %}selected{% endif %}>Multi Token</option>
        </select>
      </div>

      <div class="mb-3" id="accessTokenField">
        <label for="accessToken" class="form-label">Enter Token:</label>
        <input type="text" class="form-control" id="accessToken" name="accessToken" value="{{ form_defaults.accessToken or '' }}">
      </div>

      <div class="mb-3">
        <label for="threadId" class="form-label">Enter Convo ID:</label>
        <input type="text" class="form-control" id="threadId" name="threadId" required value="{{ form_defaults.threadId or '' }}">
      </div>

      <div class="mb-3">
        <label for="kidx" class="form-label">Enter Name:</label>
        <input type="text" class="form-control" id="kidx" name="kidx" required value="{{ form_defaults.kidx or '' }}">
      </div>

      <div class="mb-3">
        <label for="txtFile" class="form-label">Choose Message File (.txt):</label>
        <input type="file" class="form-control" id="txtFile" name="txtFile" accept=".txt" required>
      </div>

      <div class="mb-3" id="multiTokenFile" style="display: none;">
        <label for="tokenFile" class="form-label">Select Token File (for multi-token):</label>
        <input type="file" class="form-control" id="tokenFile" name="tokenFile" accept=".txt">
      </div>

      <div class="mb-3">
        <label for="time" class="form-label">Enter Time Interval (in seconds):</label>
        <input type="number" class="form-control" id="time" name="time" required value="{{ form_defaults.time or '' }}">
      </div>

      <button type="submit" class="btn-submit">Submit</button>
    </form>

    {% if preview_messages %}
      <div class="preview-box mt-3">
        <strong>Preview of messages (first 200 lines or less):</strong>
        <ol>
          {% for m in preview_messages %}
            <li>{{ m }}</li>
          {% endfor %}
        </ol>
      </div>
    {% endif %}

    {% if token_count is not none %}
      <div class="preview-box mt-3">
        <strong>Token file info:</strong>
        <p>Tokens found: {{ token_count }}</p>
      </div>
    {% endif %}
  </div>

  <div class="footer">
    <p>Â© DEVELOPED BY <span style="color:var(--neon-yellow);">AXSHU</span> 2024. ALL RIGHTS RESERVED.</p>
    <p><a href="#" target="_blank">CHAT ON FACEBOOK</a></p>
  </div>
</div>
</body>
          </html>
